<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script src="/assets/js/vendor/lunr.min.js"></script> <script src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <link rel="icon" href="/favicon.ico" type="image/x-icon"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>MariaDB/MySQL Setup | DHLinux Wiki</title> <meta name="generator" content="Jekyll v4.3.2" /> <meta property="og:title" content="MariaDB/MySQL Setup" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Page Last Updated: 2023 July 03" /> <meta property="og:description" content="Page Last Updated: 2023 July 03" /> <link rel="canonical" href="https://wiki.dhlinux.org/tutorials/Databases/Notes-on-MariaDB-Setup/" /> <meta property="og:url" content="https://wiki.dhlinux.org/tutorials/Databases/Notes-on-MariaDB-Setup/" /> <meta property="og:site_name" content="DHLinux Wiki" /> <meta property="og:type" content="article" /> <meta property="article:published_time" content="2023-07-08T17:21:12-07:00" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="MariaDB/MySQL Setup" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-07-03T16:11:34-07:00","datePublished":"2023-07-08T17:21:12-07:00","description":"Page Last Updated: 2023 July 03","headline":"MariaDB/MySQL Setup","mainEntityOfPage":{"@type":"WebPage","@id":"https://wiki.dhlinux.org/tutorials/Databases/Notes-on-MariaDB-Setup/"},"url":"https://wiki.dhlinux.org/tutorials/Databases/Notes-on-MariaDB-Setup/"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/" class="site-title lh-tight"> DHLinux Wiki </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <div class="nav-category">Tutorials</div> <ul class="nav-list"><li class="nav-list-item"><a href="/tutorials/Tutorials-and-Setup-Guides/" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="/tutorials/QuickStart/" class="nav-list-link">QuickStart</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Administration category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/tutorials/Admin/Admin/" class="nav-list-link">Administration</a><ul class="nav-list"><li class="nav-list-item "><a href="/tutorials/Admin/Cron/" class="nav-list-link">Cron</a></li><li class="nav-list-item "><a href="/tutorials/Admin/Notes-on-Post-Debian-Installation/" class="nav-list-link">Post-Debian Installation</a></li></ul></li><li class="nav-list-item active"><button class="nav-list-expander btn-reset" aria-label="toggle items in Databases category" aria-pressed="true"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/tutorials/Databases/Databases/" class="nav-list-link">Databases</a><ul class="nav-list"><li class="nav-list-item active"><a href="/tutorials/Databases/Notes-on-MariaDB-Setup/" class="nav-list-link active">MariaDB/MySQL Setup</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Languages category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/tutorials/Languages/Languages/" class="nav-list-link">Languages</a><ul class="nav-list"><li class="nav-list-item "><a href="/tutorials/Languages/Notes-on-PHP-Setup/" class="nav-list-link">PHP Setup</a></li><li class="nav-list-item "><a href="/tutorials/Languages/Notes-on-PHPMyAdmin-Setup/" class="nav-list-link">PHPMyAdmin Setup</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Server Security category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/tutorials/Server%20Security/ServerSec/" class="nav-list-link">Server Security</a><ul class="nav-list"><li class="nav-list-item "><a href="/tutorials/Server%20Security/Fail2ban/" class="nav-list-link">Fail2ban</a></li><li class="nav-list-item "><a href="/tutorials/Server%20Security/Iptables/" class="nav-list-link">Iptables</a></li></ul></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Web Servers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/tutorials/Web/WebServers/" class="nav-list-link">Web Servers</a><ul class="nav-list"><li class="nav-list-item "><a href="/tutorials/Web/Notes-on-Apache-Setup/" class="nav-list-link">Apache Setup</a></li><li class="nav-list-item "><a href="/tutorials/Web/Notes-on-Nginx-Setup/" class="nav-list-link">Nginx Setup</a></li></ul></li></ul> <div class="nav-category">Projects</div> <ul class="nav-list"><li class="nav-list-item"><a href="/projects/Projects/" class="nav-list-link">Projects</a></li></ul> <div class="nav-category">Glossary</div> <ul class="nav-list"><li class="nav-list-item"><a href="/docs/BASH/" class="nav-list-link">BASH</a></li><li class="nav-list-item"><a href="/docs/LAMP-Stack/" class="nav-list-link">LAMP Stack</a></li><li class="nav-list-item"><a href="/docs/Linux/" class="nav-list-link">Linux</a></li><li class="nav-list-item"><a href="/docs/MySQL/" class="nav-list-link">MySQL</a></li><li class="nav-list-item"><a href="/docs/PHP/" class="nav-list-link">PHP</a></li><li class="nav-list-item"><a href="/docs/Unix/" class="nav-list-link">Unix</a></li><li class="nav-list-item"><a href="/docs/VirtualBox/" class="nav-list-link">VirtualBox</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Web Servers category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/docs/WebServers/" class="nav-list-link">Web Servers</a><ul class="nav-list"><li class="nav-list-item "><a href="/docs/Apache/" class="nav-list-link">Apache</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search DHLinux Wiki" aria-label="Search DHLinux Wiki" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="/tutorials/Databases/Databases/">Databases</a></li> <li class="breadcrumb-nav-list-item"><span>MariaDB/MySQL Setup</span></li> </ol> </nav> <div id="main-content" class="main-content"> <main> <h5> Page Last Updated: 2023 July 03 </h5> <p><br /></p> <h2 id="notes-on-mariadb-setup"> <a href="#notes-on-mariadb-setup" class="anchor-heading" aria-labelledby="notes-on-mariadb-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Notes on MariaDB Setup </h2> <h2 id="installing-mariadb"> <a href="#installing-mariadb" class="anchor-heading" aria-labelledby="installing-mariadb"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installing MariaDB </h2> <ul> <li>sudo apt-get update</li> <li>sudo apt-get install mariadb-server</li> <li>cp /etc/mysql/my.cnf ~/my.cnf.backup (Always good to have a backup of the base config… just in case!)</li> </ul> <h2 id="configure-mariadb-and-setup-mariadb-databases"> <a href="#configure-mariadb-and-setup-mariadb-databases" class="anchor-heading" aria-labelledby="configure-mariadb-and-setup-mariadb-databases"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Configure MariaDB and Setup MariaDB Databases </h2> <p>After installing MySQL, it’s recommended that you run <code class="language-plaintext highlighter-rouge">mysql_secure_installation</code>, a program that helps secure MySQL. While running <code class="language-plaintext highlighter-rouge">mysql_secure_installation</code>, you will be presented with the opportunity to change the MySQL root password, remove anonymous user accounts, disable root logins outside of localhost, and remove test databases. It is recommended that you answer “yes” to these options. If you are prompted to reload the privilege tables, select “yes.” Run the following command to execute the program:</p> <ul> <li>sudo mysql_secure_installation</li> </ul> <p>Next, you can create a database and grant your users permissions to use databases. First, log in to MariaDB:</p> <ul> <li>mysql -u root -p</li> </ul> <p>Enter MariaDB’s root password, and you’ll be presented with a prompt where you can issue SQL statements to interact with the database.</p> <p>To create a database and grant your users permissions on it, issue the following command. Note that the semicolons (;) at the end of the lines are crucial for ending the commands. Your command should look like this:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>create database testdb;
grant all on testdb.* to 'test_user' identified by 'test';
</code></pre></div></div> <p>In the example above, dhsi is the name of the database, dhsi_user is the username, and dhsi is the password.</p> <p><strong>This is not a good password. This is for testing, and you should remove this account when you’re sure everything works!</strong></p> <p>A better version might be:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>create database testdb;
GRANT ALL PRIVILEGES ON testdb.* TO 'test_user'@'localhost' IDENTIFIED BY '9d63c3b5b7623d1fa3dc7fd1547313b9546c6d0fbbb6773a420613b7a17995c8';
</code></pre></div></div> <p>In this, we have created a password by passing a text string “This is a test” to shasum:</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code> echo "This is a test" | shasum -a 256
</code></pre></div></div> <p>Note: It’s helpful to put a space before the command so that it’s not logged in history. You could also use a tool like <a href="https://bitwarden.com/password-generator/">this one from Bitwarden</a> or <a href="https://www.useapassphrase.com/">Use a Passphrase</a> to generate a password for you.</p> <p>Also note that database usernames and passwords are only used by scripts connecting to the database, and that database user account names need not (and perhaps should not) represent actual user accounts on the system.</p> <p>With that completed, you’ve successfully configured MariaDB, and you may now pass these database credentials on to your users or applications. To exit the MariaDB database administration utility issue the following command:</p> <ul> <li>quit</li> </ul> <h2 id="next-steps"> <a href="#next-steps" class="anchor-heading" aria-labelledby="next-steps"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Next Steps </h2> <p>With Apache and MariaDB installed, let’s install PHP: <a href="../Notes-on-PHP-Setup">Notes on PHP Setup</a></p> </main> <hr> <footer> <p><a href="#top" id="back-to-top">Back to top</a></p> <p class="text-small text-grey-dk-100 mb-0">Connect with Jon on <a href='https://cyberdeck.social/@jon' target='_blank'>Mastodon</a>.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Debian logo courtesy of <a href='https://www.debian.org/'>Debian.org</a></p> <div class="d-flex mt-2"> <p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/jdmartin/dhlinux-jekyll/tree/main//_tutorials/Databases/Notes-on-MariaDB-Setup.md" id="edit-this-page">Edit this page on GitHub.</a> </p> </div> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
